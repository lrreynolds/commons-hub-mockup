<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Commonshub — Dashboard</title>
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>

  <!-- Mobile/desktop nav toggle -->
  <button class="secondary" id="navToggle" type="button" style="position:fixed; top:14px; left:14px; z-index:50; width:auto;">
    Menu
  </button>

  <div class="wrap">
    <aside class="sidebar">
      <div class="brand">
        <div class="dot"></div>
        <div>
          <b>Commonshub</b>
          <span>Owner dashboard (mock)</span>
        </div>
      </div>

      <!-- Keep sidebar calm: one nav item always -->
      <nav class="nav" aria-label="Dashboard sections">
        <a class="navItem active" href="#status">
          <div>
            <b>Status</b><br>
            <small id="navSubtitle">Live + next step</small>
          </div>
          <div>●</div>
        </a>
      </nav>

      <div class="hint">
        <b>Mock only:</b> Commonshub is the control plane (hosting, invites, funding).
        Conversations and moderation happen in Mastodon.
      </div>

      <!-- Optional helper links (quiet) -->
      <div class="muted" style="margin-top:10px; font-size:13px;">
        <a href="index.html" style="color:inherit; text-decoration:none;">← Back to start</a>
      </div>
    </aside>

    <main class="stage">
      <div class="topbar">
        <div class="left">
          <div class="logoMark"></div>
          <div class="meta">
            <b>Commons Dashboard</b>
            <span>Stewardship + hosting</span>
          </div>
        </div>
        <div class="chip">Owner view</div>
      </div>

      <div class="content">
        <div class="center">

          <div class="header">
            <div>
              <h2>Your community is live</h2>
              <p id="headerSubcopy">Your server is running. Next, we’ll help you make it feel “real” before you invite anyone.</p>
            </div>
            <div class="chip">Status: Live</div>
          </div>

          <!-- ========================= -->
          <!-- PRE-SETUP (wizard not done) -->
          <!-- ========================= -->
          <div id="preSetup">
            <section id="status" style="scroll-margin-top:90px;">
              <div class="card">
                <h3>Community status</h3>
                <div class="muted">Role: Community owner</div>

                <div class="list" style="margin-top:10px;">
                  <div class="item">
                    <b>Community</b>
                    <div class="muted">The Commons Hub · mycommunity.commonshub.social</div>
                  </div>
                  <div class="item">
                    <b>Hosting</b>
                    <div class="muted">Active · Managed by Commonshub</div>
                  </div>
                  <div class="item">
                    <b>Members</b>
                    <div class="muted">0 (expected)</div>
                  </div>
                </div>

                <div class="note" style="margin-top:12px;">
                  <b>Next:</b> Run a 3-step setup (branding, purpose, welcome post). ~5 minutes.
                </div>

                <div class="footerBar" style="margin-top:12px;">
                  <a class="primary" href="setup-wizard.html">Set up your community</a>
                </div>
              </div>
            </section>
          </div>

          <!-- ========================= -->
          <!-- POST-SETUP (wizard done)  -->
          <!-- ========================= -->
          <div id="postSetup" style="display:none;">

            <section id="status" style="scroll-margin-top:90px;">
              <div class="card">

                <h3>Ready to invite</h3>
                <div class="muted" style="margin-top:2px;">
                  You’ll post and interact in Mastodon. Commonshub handles hosting, invites, and funding.
                </div>

                <!-- ultra-compact “status chips” -->
                <div class="list" style="margin-top:12px;">
                  <div class="item">
                    <b>Community</b>
                    <div class="muted">The Commons Hub · mycommunity.commonshub.social</div>
                  </div>
                  <div class="item">
                    <b>Hosting</b>
                    <div class="muted">Active · Managed by Commonshub</div>
                  </div>
                  <div class="item">
                    <b>Members</b>
                    <div class="muted">0 (expected)</div>
                  </div>
                </div>

                <!-- Three equal actions (zen) -->
                <div class="footerBar" style="margin-top:14px; gap:12px;">
                  <a class="primary" href="community.html" style="flex:1; justify-content:center;">
                    Visit community (Mastodon)
                  </a>

                  <button class="secondary" id="copyInviteBtn" type="button" style="flex:1; width:auto; justify-content:center;">
                    Copy invite link
                  </button>

                  <a class="secondary" href="funding-wizard.html" style="flex:1; width:auto; justify-content:center;">
                    Enable funding
                  </a>
                </div>

                <!-- Invite link stays hidden unless the user wants it -->
                <div class="field" id="inviteField" style="margin-top:12px; display:none;">
                  <label>Invite link</label>
                  <input
                    id="inviteLink"
                    type="text"
                    value="https://mycommunity.commonshub.social/invite/abc123"
                    readonly
                  />
                  <div class="muted" style="margin-top:6px;">
                    Share this link wherever your audience already is (Substack, YouTube, email, etc.).
                  </div>
                </div>

                <!-- Details toggle (everything else is hidden by default) -->
                <div style="margin-top:14px;">
                  <button class="secondary" id="toggleDetailsBtn" type="button" style="width:auto;">
                    Show details
                  </button>
                </div>

                <div id="details" style="display:none; margin-top:12px;">
                  <div class="card" style="background: var(--card2);">
                    <h3 style="margin:0 0 6px;">Overview</h3>
                    <div class="muted">Light totals only — enough to feel oriented.</div>

                    <div class="list" style="margin-top:12px;">
                      <div class="item">
                        <b>Members</b>
                        <div class="muted">0</div>
                      </div>
                      <div class="item">
                        <b>Posts</b>
                        <div class="muted">0</div>
                      </div>
                      <div class="item">
                        <b>Local timeline</b>
                        <div class="muted">Empty (expected)</div>
                      </div>
                      <div class="item">
                        <b>Funding</b>
                        <div class="muted">Not enabled</div>
                      </div>
                    </div>

                    <div class="note" style="margin-top:12px;">
                      <b>Tip:</b> Make your first real post in Mastodon, then invite your audience.
                    </div>

                    <div class="muted" style="margin-top:10px;">
                      Need to edit rules, About, or branding later? Do it in Mastodon admin tools. <a href="#" style="color:inherit;">(Help)</a>
                    </div>

                    <!-- dev-only reset (quiet) -->
                    <div class="muted" style="margin-top:12px; font-size:13px;">
                      <a href="#" id="resetFlowLink" style="color:inherit;">Reset demo flow</a>
                    </div>
                  </div>
                </div>

              </div>
            </section>

          </div>

        </div>
      </div>
    </main>
  </div>

  <script src="assets/app.js"></script>

  <script>
    // Optional: highlight active nav item on click
    (() => {
      const items = Array.from(document.querySelectorAll(".nav .navItem"));
      if (!items.length) return;

      items.forEach(a => {
        a.addEventListener("click", () => {
          items.forEach(x => x.classList.remove("active"));
          a.classList.add("active");
        });
      });
    })();
  </script>

</body>
</html>
